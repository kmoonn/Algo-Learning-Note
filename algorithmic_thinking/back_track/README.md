# 回溯

## 思想

所有回溯算法都使用了**递归**，并且在 **“归”** 阶段执行了关键的 **“回溯”** 操作。

通过试错寻找问题最优解，通常需要遍历所有可能情况。

回溯的核心三部曲：选择——>递归——>回溯

## 框架

| 类型  | 是否顺序相关 | 是否要选固定数量 | 是否要用切割点 | 是否用 visited | 常见去重方式           |
|-----|--------|----------|---------|-------------|------------------| 
| 子集  | 否      | 否        | 否       | 否           | sorted + i>start |
| 组合  | 否      | 是或条件     | 否       | 否           | sorted + i>start |
| 排列  | 是      | 是        | 否       | ✅ 是         | visited + i>0判断  |
| 分割  | 是      | 每段合法     | ✅ 是     | 否           | 不需要              |
| 子序列 | 是      | path≥2   | 否       | 否           | 同层 HashSet       |

### 子集型

关注的是选择或不选择元素，形成子集。

### 组合型

通常从候选集中选若干元素并组成组合。

### 排列型

关注的是元素顺序变化。

### 分割型

在原字符串上选择“切割点”，以满足某些条件。

## 优化

主要优化方法是**剪枝**，包括**提前终止、不进入某些递归情况**两种。

## 题目

- 组合型
  - [77. 组合](%5B77%5D组合.md)
  - [39. 组合总和](%5B39%5D组合总和.md)
  - [40. 组合总和 II](%5B40%5D组合总和%20II.md)
  - [216. 组合总和 III](%5B216%5D组合总和%20III.md)
  - [17. 电话号码的字母组合](%5B17%5D电话号码的字母组合.md)
- 子集型
  - [78. 子集](%5B78%5D子集.md)
  - [90. 子集 II](%5B90%5D子集%20II.md)
- 排列型
  - [46. 全排列](%5B46%5D全排列.md)
  - [47. 全排列 II](%5B47%5D全排列%20II.md)
- 分割型
  - [131. 分割回文串](%5B131%5D分割回文串.md)
  - [93. 复原 IP 地址](%5B93%5D复原%20IP%20地址.md)
- 子序列型
  - [491. 非递减子序列](%5B491%5D非递减子序列.md)
---

  - [332. 重新安排行程]()
  - [51. N 皇后]()
  - [37. 解数独]()
  - [79. 单词搜索]()
  - [22. 括号生成]()