# [53. 最大子数组和](https://leetcode.cn/problems/maximum-subarray)

## 思路

最值问题：**最大**

子数组问题：不能使用**滑动窗口**算法（因为存在负数）

dp 数组定义：**以 nums[i] 结尾的最大子数组和**

## 解法

### dp

```java
class Solution {
    public int maxSubArray(int[] nums) {
        int n = nums.length;
        int res = Integer.MIN_VALUE;  // 用来存储最大子数组和

        int[] dp = new int[n];
        dp[0] = nums[0];  // 初始化 dp[0]

        for (int i = 1; i < n; i++) {  // 从 i = 1 开始
            dp[i] = Math.max(nums[i], dp[i - 1] + nums[i]);  // 状态转移方程
            res = Math.max(res, dp[i]);  // 更新最大值
        }

        return res;
    }
}
```

## 优化

### 状态压缩

```java
class Solution {
    public int maxSubArray(int[] nums) {
        int n = nums.length;
        int res = Integer.MIN_VALUE;
        int curSum = 0;  // 用来存储当前子数组和

        for (int num : nums) {
            curSum = Math.max(num, curSum + num);  // 状态转移
            res = Math.max(res, curSum);  // 更新最大值
        }

        return res;
    }
}
```
