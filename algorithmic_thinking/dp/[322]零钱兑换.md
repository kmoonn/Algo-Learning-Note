# [322. 零钱兑换](https://leetcode.cn/problems/coin-change)

## 思路

最值问题：**求最少硬币个数**

完全背包问题：**每枚硬币可以使用无限次**

## 解法

### dp

```java
class Solution {
    public int coinChange(int[] coins, int amount) {
        // dp[i] 表示凑成总金额 i 所需的最少硬币个数
        int[] dp = new int[amount + 1];

        Arrays.fill(dp, amount + 1);
        // base case
        dp[0] = 0;
        
        // 穷举金额
        for (int i = 1; i <= amount; i++) {
            // 穷举硬币
            for (int coin : coins) {
                // 保证当前面值小于所需要的总金额
                if (i - coin >= 0) {
                    // 选和不选问题
                    // dp[i] 不选，dp[i - coin] + 1 选，两者取最小
                    dp[i] = Math.min(dp[i], dp[i - coin] + 1);
                }
            }
        }
        // 判断是否更新过
        return dp[amount] == amount + 1 ? -1 : dp[amount];
    }
}
```

### 完全背包

完全背包写法：先遍历物品，再遍历容量。

外层遍历硬币，内层金额正序，确保每个硬币可以被重复使用。

```java
class Solution {
    public int coinChange(int[] coins, int amount) {
        int[] dp = new int[amount + 1];
        Arrays.fill(dp, amount + 1);
        dp[0] = 0;
        for (int coin : coins) {
            for (int i = coin; i <= amount; i++) {
                dp[i] = Math.min(dp[i], dp[i - coin] + 1);
            }
        }
        return dp[amount] == amount + 1 ? -1 : dp[amount];
    }
}
```

## 优化
